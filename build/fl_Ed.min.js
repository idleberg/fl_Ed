var use_storage=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}};$.urlParam=function(a){var b=new RegExp("[\\?&]"+a+"=([^&#]*)").exec(window.location.href);return b?b[1]||0:void 0},$(function(){$("#myTab a").click(function(a){a.preventDefault(),$(this).tab("show")});var a=$("#hover"),b=$("#footer"),c=$("#screen_info"),d=$(".navbar"),e=$(".arrow-up"),f=$(".credit"),g=$(".panel"),h=$(".editor-input");if(d.hide(),g.draggable({handle:".panel-heading",scroll:!1,containment:"window"}),g.resizable({handles:"se"}),a.mouseenter(function(){d.finish().fadeIn(200),e.finish().fadeOut(200)}),a.mouseleave(function(){d.finish().delay(100).fadeOut(200),e.finish().fadeOut(200)}),e.delay(3e3).fadeOut(3e3),b.mouseenter(function(){f.finish().fadeIn(200)}),b.mouseleave(function(){f.finish().fadeOut(3e3)}),f.delay(3e3).fadeOut(3e3),g.mousemove(function(){c.text(g.width()+"✕"+g.height()+" — "+g.offset().left+"x "+g.offset().top+"y"),use_storage()&&(localStorage.setItem("editor.x",g.offset().left),localStorage.setItem("editor.y",g.offset().top),localStorage.setItem("editor.w",g.width()),localStorage.setItem("editor.h",g.height()))}),h.change(function(){use_storage()&&localStorage.setItem("editor.input",h.val())}),$(".panel-heading").dblclick(function(){console.log("Setting editor to fullscreen"),g.toggleClass("panel-fullscreen")}),use_storage()){console.log("window.localStorage is available!");var i=[];"true"==$.urlParam("reset")?(console.log("Reset window.localStorage"),localStorage.setItem("editor.x",100),localStorage.setItem("editor.y",100),localStorage.setItem("editor.w",360),localStorage.setItem("editor.h",270),localStorage.setItem("editor.input",""),window.location="index.html"):($.urlParam("editor.x")&&(i["editor.x"]=$.urlParam("editor.x"),localStorage.setItem("editor.x",i["editor.x"])),$.urlParam("editor.y")&&(i["editor.y"]=$.urlParam("editor.y"),localStorage.setItem("editor.y",i["editor.y"])),$.urlParam("editor.w")&&(i["editor.w"]=$.urlParam("editor.w"),localStorage.setItem("editor.w",i["editor.w"])),$.urlParam("editor.h")&&(i["editor.h"]=$.urlParam("editor.h"),localStorage.setItem("editor.h",i["editor.h"])));for(var j=0;j<localStorage.length;j++){var k=localStorage.key(j),l=localStorage.getItem(k);i[k]=l,console.log("	"+k+"="+l)}g.css({position:"absolute",top:i["editor.y"]+"px",left:i["editor.x"]+"px",width:i["editor.w"]+"px",height:i["editor.h"]+"px"}).show(),c.text(i["editor.w"]+"✕"+i["editor.h"]+" — "+i["editor.x"]+"x "+i["editor.y"]+"y"),h.val(i["editor.input"])}else console.log("no native support for HTML5 storage :("),c.text("Editor");g.hover(function(){g.css("z-index","0"),g.removeClass("panel-default").addClass("panel-muted"),$(this).css("z-index","1"),$(this).removeClass("panel-muted").addClass("panel-default")})});